import{x as e,n as t}from"./element-plus.5250eebc.js";import{u as i}from"./index.5c73eddb.js";import"./vue-i18n.2ac3f367.js";import"./pinia.d9b91cb5.js";import"./xe-utils.b1404dac.js";import"./vxe-table.ab8c6e8b.js";import"./echarts.c70773c6.js";console.log();let n=window.MutationObserver||window.WebKitMutationObserver,o=null;const l=(e,i,s)=>{let r="waterMask";document.getElementById(r)&&s.removeChild(document.getElementById(r));let a=document.createElement("canvas");a.width=300,a.height=150;let d=a.getContext("2d");d.rotate(-20*Math.PI/180),d.font="15px Vedana",d.fillStyle="#666666",d.textAlign="center",d.textBaseline="Middle",d.fillText(e,a.width/2,a.height),d.fillText(i,a.width/2,a.height+22);let c=document.createElement("div");c.id=r,c.style.pointerEvents="none",c.style.top="0px",c.style.right="0px",c.style.opacity="0.3",c.style.position="absolute",c.style.zIndex="99999",t(),c.style.width=s.offsetWidth+"px",c.style.height="100%",c.style.background="url("+a.toDataURL("image/png")+") left top repeat",s.appendChild(c),n=window.MutationObserver||window.WebKitMutationObserver,n&&(o=new n((function(){document.querySelector("#waterMask")||(o.disconnect(),o=null,l(e,i,s))})),o.observe(s,{attributes:!0,subtree:!0,childList:!0}))},s=t=>{t.directive("watermask",{mounted(t){const n=i(),o=e().format("YYYY-MM-DD");l(n.username,o,t)},unmounted(e){o&&o.disconnect(),o=null}})};export{s as setWaterMask};
